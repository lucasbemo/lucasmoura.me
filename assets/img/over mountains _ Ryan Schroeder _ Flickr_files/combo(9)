YUI.add("photo-sets-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getAllContexts"].run(t,this.appContext)}},attributes:{id:{},sets:{isListProxy:!0},total:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0}}})},"@VERSION@",{requires:["api-helper","flickr-model-registry","flickr-promise","flickr-photos-getAllContexts-fetcher"]});
YUI.add("flickr-photosets-addPhoto-creator",function(e,t){"use strict";function n(n,r){var i={full_response:1},s=[],o=n.isMultiplePhotos?"photo_ids":"photo_id",u=n.photoID.split(",").length;return i[o]=n.photoID,i.photoset_id=n.setID,n.gpCode&&(i.gp_code=n.gpCode),n.gpOwner&&(i.gp_owner=n.gpOwner),n.shareCode&&(i.share_code=n.shareCode),n.includeHiddenSets&&(i.extras="hidden_sets",i.user_id=n.userId),s=[r.callAPI("flickr.photosets.addPhoto",i),r.getModel("set-models",n.setID),r.getModelRegistry("photo-sets-models"),r.getModelRegistry("photo-contexts-models")],n.isMultiplePhotos||s.push(r.getModel("photo-models",n.photoID)),e.Promise.all(s).then(function(e){var t=e[0],r=e[1],i=e[2],s=e[3],o,a=t.errors,f=t.errors?t.errors.length:0;u-=f;if(t.stat==="ok")return n.isMultiplePhotos?r&&n.updateItemCounts&&(r.setValue("photoCount",r.getValue("photoCount")+n.numberOfPhotosSelected),r.setValue("videoCount",r.getValue("videoCount")+n.numberOfVideosSelected)):(o=e[4],r&&!r.hasPhoto(o.getValue("id"))&&(r.addPhoto(o),o.getValue("isVideo")?r.setValue("videoCount",r.getValue("videoCount")+1):r.setValue("photoCount",r.getValue("photoCount")+1))),i.exists(n.photoID)&&!i.getValue(n.photoID,"sets").getFromListByID(r.getValue("id"))&&(i.getValue(n.photoID,"sets").prependToList(r),i.setValue(n.photoID,"total",i.getValue(n.photoID,"total")+u)),s.exists(n.photoID)&&!s.getValue(n.photoID,"contexts").getFromListByID(r.getValue("id"))&&(s.setValue(n.photoID,"totalSets",s.getValue(n.photoID,"totalSets")+u),s.getValue(n.photoID,"contexts").push(r)),n.isMultiplePhotos?(f&&a.forEach(function(e){n.photosSelectedIds.indexOf(e.photo_id)!==-1?r.setValue("photoCount",r.getValue("photoCount")-1):r.setValue("videoCount",r.getValue("videoCount")-1)}),{errors:a,setModel:r}):r},function(n){return e.FetcherErrorLogger(t),n}.bind(this))}e.namespace("ModelCreators")["flickr-photosets-addPhoto"]={run:n}},"@VERSION@",{requires:["flickr-promise"],optional:["set-models","photo-models","photo-sets-models","photo-contexts-models"]});
YUI.add("flickr-photosets-getList-fetcher",function(e,t){"use strict";function n(t){var n={primary_photo_extras:e.APIHelper.request.getRebootAlbumsListExtras(),page:t.page||1,per_page:t.perPage||500,get_user_info:1,extras:"can_share,can_download"};if(t.id)n.user_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-favorites-getList-fetcher] `id` or `pathAlias` is required.");n.path_alias=t.pathAlias}return n}function r(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=r.photosets,a={},f=o.getValue("id"),l=[];if(u)return u.photoset&&e.Array.each(u.photoset,function(t,n){if(t.visibilityCanSeeSet!==0){var r={id:t.id,title:t.title.content,description:t.description.content,owner:o,primary:t.primary,primaryPhotoSizes:e.APIHelper.response.parsePrimaryPhotoSizes(t),isAutoUploadSet:t.autoUpload,primaryNeedsInterstitial:t.needsInterstitial,photoCount:t.photos,videoCount:t.videos,publicPhotosCount:t.countPhotosPublic,totalCount:parseInt(t.photos,10)+parseInt(t.videos,10),viewCount:t.countViews,canShare:t.canShare+(t.canShareDeep||0),canDownload:t.canDownload};l.push(s.addOrUpdate(r))}}),a={id:f,pathAlias:o.getValue("pathAlias"),totalItems:r.photosets.total},a.albumsList={perPage:n.perPage,page:n.page,pageContent:l,totalItems:r.photosets.total,totalPages:Math.ceil(r.photosets.total/n.perPage)},i.addOrUpdate(a),l}function i(n,r){var i=this,s=this._processParams(n);return e.Promise.all([r.callAPI("flickr.photosets.getList",s,!0),r.getModelRegistry("sets-models"),r.getModelRegistry("set-models"),r.getModel("person-models",n.id||{pathAlias:n.pathAlias})]).then(function(e){return n.perPage=s.per_page,n.page=s.page,i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-photosets-getList"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["sets-models","set-models","person-models"]});
YUI.add("sets-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-photosets-getList"].run(t,this.appContext)}},attributes:{id:{},pathAlias:{},albumsList:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-photosets-getList"]}},totalItems:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photosets-getList-fetcher"]});
YUI.add("flickr-photosets-removePhoto-deletor",function(e,t){"use strict";function n(n,r){var i={full_response:1},s=[],o=n.isMultiplePhotos?"photo_ids":"photo_id",u=n.photoID.split(",").length;return i[o]=n.photoID,i.photoset_id=n.setID,n.includeHiddenSets&&(i.extras="hidden_sets",i.user_id=n.userId),s=[r.callAPI("flickr.photosets.removePhoto",i),r.getModel("set-models",n.setID),r.getModel("sets-models",r.getViewer().nsid,{page:1,perPage:r.flipper.isFlipped("enable-sets-list-loading-fix")||n.includeHiddenSets?10:500}),r.getModelRegistry("photo-sets-models"),r.getModelRegistry("photo-contexts-models")],n.isMultiplePhotos||s.push(r.getModel("photo-models",n.photoID)),e.Promise.all(s).then(function(e){var t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a;if(t.stat==="ok"){o.exists(n.photoID)&&o.getValue(n.photoID,"contexts").getFromListByID(n.setID)&&(o.setValue(n.photoID,"totalSets",o.getValue(n.photoID,"totalSets")-u),o.getValue(n.photoID,"contexts").removeFromList(n.setID)),s.exists(n.photoID)&&s.getValue(n.photoID,"sets").getFromListByID(n.setID)&&(s.setValue(n.photoID,"total",s.getValue(n.photoID,"total")-u),s.getValue(n.photoID,"sets").removeFromList(n.setID));if(r){n.isMultiplePhotos?r&&n.updateItemCounts&&(r.setValue("photoCount",r.getValue("photoCount")-n.numberOfPhotosSelected),r.setValue("videoCount",r.getValue("videoCount")-n.numberOfVideosSelected)):(a=e[5],r.hasPhoto(a.getValue("id"))&&r.removePhoto(a),a.getValue("isVideo")?r.setValue("videoCount",r.getValue("videoCount")-u):r.setValue("photoCount",r.getValue("photoCount")-u));if(r.getValue("totalCount")<1&&!n.includeHiddenSets)return i.getValue("albumsList").remove(n.setID),r.registry.remove(n.setID),null}return r}},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-photosets-removePhoto"]={run:n}},"@VERSION@",{requires:["flickr-promise"],optional:["set-models","photo-models","sets-models","photo-sets-models","photo-contexts-models"]});
YUI.add("flickr-photosets-delete-deletor",function(e,t){"use strict";function n(n,r){return n.photoset_id=n.setID,n.gpCode&&(n.gp_code=n.gpCode),n.gpOwner&&(n.gp_owner=n.gpOwner),n.shareCode&&(n.share_code=n.shareCode),r.callAPI("flickr.photosets.delete",n).then(function(e){if(e.code===1)throw new Error(e)}).catch(e.FetcherErrorLogger(t))}e.namespace("ModelDeletors")["flickr-photosets-delete-deletor"]={run:n}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("flickr-photosets-getPhotos-fetcher",function(e,t){"use strict";function r(t){t.page=t.page||1,t.perPage=t.perPage||100;var r={extras:e.APIHelper.request.getRebootPhotoExtras(),per_page:t.perPage,page:t.page,get_user_info:1,primary_photo_extras:"url_c, url_h, url_k, url_l, url_m, url_n, url_o, url_q, url_s, url_sq, url_t, url_z, needs_interstitial, can_share",jump_to:t.withPhotoId||""};return t.gpCode&&t.gpCode!==null?(r.gp_code=t.gpCode,r.share_code=t.gpCode,r.gp_owner=t.gpOwner,n.info("Calling sets api with GP "+t.gpCode)):r.photoset_id=t.id.split("-")[0],t.includeHiddenSets&&(r.extras+=",hidden_sets",r.user_id=t.userId),t.viewAs&&(r.view_as=t.viewAs),t.filter&&(r.privacy_filter=t.filter),r}function i(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f=t[6],l,c,h,p,d,v=[],m=!1,g=!1,y=n.id;l=e.APIHelper.response.parsePerson(r.user),c=s.addOrUpdate(l),h={id:n.id,title:r.photoset.title,description:r.photoset.description,owner:c,primary:r.photoset.primary,primaryPhotoSizes:e.APIHelper.response.parsePrimaryPhotoSizes(r.photoset),isAutoUploadSet:r.photoset.isAutoUploadSet,isSharedEntity:r.photoset.hidden&&r.photoset.hidden===1,photoCount:r.photoset.photoCount,videoCount:r.photoset.videoCount,publicPhotosCount:r.photoset.countPhotosPublic,primaryNeedsInterstitial:r.photoset.needsInterstitial,totalCount:parseInt(r.photoset.photoCount,10)+parseInt(r.photoset.videoCount,10),photoList:[],viewCount:r.photoset.countViews,canShare:r.photoset.canShare+(r.photoset.canShareDeep||0),canDownload:r.photoset.canDownload},y&&y!==r.photoset.id&&(h.id=y),r.photoset.isAutoUploadSet==="1"&&(h.canShare=!1),o.exists(n.id)&&(p=o.getValue(n.id,"photoPageList"),m=p.hasMinBoundary?p.hasMinBoundary():!1,g=p.hasMaxBoundary?p.hasMaxBoundary():!1,v=p.getList()),d=e.APIHelper.response.parsePhotos({photos:r.photoset.photo,ownerID:r.photoset.owner,personModelRegistry:s,photoModelRegistry:i,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),h.photoPageList=e.APIHelper.response.addOrReplaceListByPage({current:v,perPage:n.perPage,pageNum:n.page,hasMax:g,hasMin:m,totalItems:r.photoset.total,newPages:d}),h.photoPageList={perPage:r.photoset.perPage,page:r.photoset.page,pageContent:d,totalItems:r.photoset.total},h.photoList.length&&(h.primary=r.photoset.primary);var b={id:h.id,countPhotosFamily:r.photoset.countPhotosFamily,countPhotosFriend:r.photoset.countPhotosFriend,countPhotosPublic:r.photoset.countPhotosPublic,countPhotosFriendFamily:r.photoset.countPhotosFriendFamily,totalCount:r.photoset.countPhotosAll};return f.exists(b.id)?f.setValues(n.id,b):f.add(b),o.exists(h.id)?o.setValue(n.id,"photoPageList",h.photoPageList):o.add(h),d}function s(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.photosets.getPhotos",this._processParams(n),!0),r.getModelRegistry("photo-models"),r.getModelRegistry("person-models"),r.getModelRegistry("set-models"),r.getModelRegistry("photo-engagement-models"),r.getModelRegistry("photo-stats-models"),r.getModelRegistry("album-privacy-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}var n=require("lib/flog")(t);e.namespace("ListFetchers")["flickr-photosets-getPhotos"]={run:s,_processParams:r,_processResponse:i}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","person-models","set-models","photo-engagement-models","photo-stats-models"]});
YUI.add("flickr-photosets-getContext-fetcher",function(e,t){"use strict";function n(t,n){var r={extras:e.APIHelper.request.getRebootPhotoExtras(),photo_id:t.photoId,num_prev:t.numNext,num_next:t.numPrev,get_photoset_info:1};return t.gpCode?(r.share_code=t.gpCode,r.share_owner=t.gpOwner,r.gp_code=t.gpCode,r.gp_owner=t.gpOwner):r.photoset_id=t.id,r}function r(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f=[],l=[],c=s.proxy(n.photoId),h,p,d,v,m,g,y=[];return h=r.prevphotos,p=r.nextphotos,l=e.APIHelper.response.parsePhotos({photos:h.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),f=e.APIHelper.response.parsePhotos({photos:p.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),m=i.getValue(n.id,"photoContextList"),d=m.hasMinBoundary?m.hasMinBoundary():!1,v=m.hasMaxBoundary?m.hasMaxBoundary():!1,g=m.getList(),y=e.APIHelper.response.addOrReplaceListByContext({model:c,next:l,prev:f.reverse(),current:g,hasMin:d,hasMax:v,numNext:n.numNext,numPrev:n.numPrev}),i.setValue(n.id,"photoContextList",y),{next:l,previous:f.reverse()}}function i(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.photosets.getContext",this._processParams(n,r),!0),r.getModelRegistry("set-models"),r.getModelRegistry("photo-models"),r.getModelRegistry("person-models"),r.getModelRegistry("photo-engagement-models"),r.getModelRegistry("photo-stats-models")]).then(function(e){return i._processResponse(e,n)},function(e){throw e.code===2&&e.message==="Photo not in set"&&(e.notInContext=!0),e}).then(null,e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-photosets-getContext"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["set-models","photo-models","person-models","photo-engagement-models","photo-stats-models"]});
YUI.add("flickr-photosets-create-creator",function(e,t){"use strict";function n(n,r){var i={},s=[];return i.title=n.title,i.description=n.description,i.primary_photo_id=n.photoID,i.full_result=1,s=[r.callAPI("flickr.photosets.create",i),r.getModelRegistry("set-models"),r.getModel("person-models",r.getViewer().nsid),r.getModel("sets-models",r.getViewer().nsid,{page:1,perPage:r.flipper.isFlipped("enable-sets-list-loading-fix")?10:500}),r.getModelRegistry("photo-sets-models"),r.getModelRegistry("photo-contexts-models")],n.isMultiplePhotos||s.push(r.getModel("photo-models",n.photoID)),e.Promise.all(s).then(function(t){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f,l,c,h,p,d=1;return r.photoset.id?(n.isMultiplePhotos?n.numberOfPhotosSelected+n.numberOfVideosSelected===1?(h=r.photoset.photos,p=r.photoset.videos):r.photoset.photos?(h=r.photoset.photos,p=0):(p=r.photoset.videos,h=0):(l=t[6],h=r.photoset.photos,p=r.photoset.videos),f={id:r.photoset.id,title:r.photoset.title.content,photoPageList:n.isMultiplePhotos?[]:[l],photoContextList:n.isMultiplePhotos?[]:[l],owner:s,primary:r.photoset.primary,primaryPhotoSizes:e.APIHelper.response.parsePrimaryPhotoSizes(r.photoset),isAutoUploadSet:!1,photoCount:h,videoCount:p,totalCount:d,viewCount:r.countViews||0},i.add(f),c=i.proxy(r.photoset.id),o.getValue("albumsList").unshift(c),u.exists(n.photoID)&&!u.getValue(n.photoID,"sets").getFromListByID(c.getValue("id"))&&(u.getValue(n.photoID,"sets").prependToList(c),u.setValue(n.photoID,"total",u.getValue(n.photoID,"total")+1)),a.exists(n.photoID)&&!a.getValue(n.photoID,"contexts").getFromListByID(c.getValue("id"))&&(a.setValue(n.photoID,"totalSets",a.getValue(n.photoID,"totalSets")+1),a.getValue(n.photoID,"contexts").appendToList(c)),c):!1},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-photosets-create"]={run:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["set-models","photo-models","person-models","sets-models","photo-sets-models","photo-contexts-models"]});
YUI.add("flickr-photosets-createHidden-creator",function(e,t){"use strict";function n(n,r){var i={},s=[];return i.photo_ids=n.photoIds,s=[r.callAPI("flickr.photosets.createHidden",i),r.getModelRegistry("set-models"),r.getModel("person-models",r.getViewer().nsid)],e.Promise.all(s).then(function(e){var t=e[0],n=e[1],r=e[2],i,s;return t.stat==="ok"&&t.photoset.share_code?(i={id:t.photoset.share_code,shareCode:t.photoset.share_code,owner:r,gpCode:t.photoset.share_code,gpOwner:r.getValue("pathAlias")||r.getValue("nsid"),url:t.photoset.url,isAutoUploadSet:!1,isSharedEntity:!0,totalCount:t.photoset.count},n.add(i),s=n.proxy(i.id),s):!1},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-photosets-createHidden"]={run:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["set-models","photo-models","person-models","sets-models","photo-sets-models","photo-contexts-models"]});
YUI.add("flickr-photosets-editMeta-updater",function(e,t){"use strict";function r(e,t,r){var i=e[0],s=e[1];if(!i.photoset||!i.photoset.title||!i.photoset.description)n.warn("No updated data returned from API.");else{if(!s.exists(t.photosetId))throw new Error("[flickr-photosets-editMeta-updater] - Set model cannot be updated if it does not exist");s.setValues(t.photosetId,{title:i.photoset.title.content,description:i.photoset.description.content})}}function i(n,r){var i={},s=this;return i.photoset_id=n.photosetId,i.title=n.title,i.description=n.description,n.includeHiddenSets&&(i.extras="hidden_sets"),e.Promise.all([r.callAPI("flickr.photosets.editMeta",i),r.getModelRegistry("set-models")]).then(function(e){s._processResponse(e,n,r)},e.FetcherErrorLogger(t))}var n=require("lib/flog")(t);e.namespace("ModelUpdaters")["flickr-photosets-editMeta"]={run:i,_processResponse:r}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("flickr-photosets-setPrimaryPhoto-updater",function(e,t){"use strict";function n(n,r){var i={};return i.photoset_id=n.albumId,i.photo_id=n.photoId,r.callAPI("flickr.photosets.setPrimaryPhoto",i).then(null,e.FetcherErrorLogger(t))}e.namespace("ModelUpdaters")["flickr-photosets-setPrimaryPhoto"]={run:n}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("set-models",function(e,t){function r(e){r.superclass.constructor.call(this,e)}var n=require("lib/flog")(t);e.Models[this.name]=r,e.extend(r,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-photosets-getPhotos"].run(t,this.appContext)},create:function(t,n){return e.ModelCreators["flickr-photosets-create"].run(t,n)},createHidden:function(t,n){return e.ModelCreators["flickr-photosets-createHidden"].run(t,n)},addPhoto:function(t,n){return e.ModelCreators["flickr-photosets-addPhoto"].run(t,n)},removePhoto:function(t,n){return e.ModelCreators["flickr-photosets-removePhoto"].run(t,n)},update:function(t,n){return e.ModelUpdaters["flickr-photosets-editMeta"].run({photosetId:t,title:n.title?n.title.newVal:this.getValue(t,"title"),description:n.description?n.description.newVal:this.getValue(t,"description")},this.appContext)},setPrimaryPhoto:function(t,n){return e.ModelUpdaters["flickr-photosets-setPrimaryPhoto"].run(t,n)},"delete":function(t){if(typeof t=="string"){var n=t;t={setID:n}}return e.ModelDeletors["flickr-photosets-delete-deletor"].run(t,this.appContext)}},addPhoto:function(e,t){return this.getValue(e,"photoPageList").hasMaxBoundary()&&this.getValue(e,"photoPageList").appendToList(t),this.getValue(e,"photoContextList").hasMaxBoundary()&&this.getValue(e,"photoContextList").appendToList(t),this},removePhoto:function(e,t){return this.getValue(e,"photoPageList").removeFromList(t.getValue("id")),this.getValue(e,"photoContextList").removeFromList(t.getValue("id")),this},hasPhoto:function(e,t){return this.getValue(e,"photoPageList").getFromListByID(t)||this.getValue(e,"photoContextList").getFromListByID(t)},getSizeToFit:function(t,r,i){n.warn("Using `getSizeToFit` is deprecated. See model comments for more details.");var s=e.PhotoModelHelper.getSizeToFit(t,r,e.merge({sizes:this.getValue(t,"primaryPhotoSizes"),includeSquare:!0,cropToFit:!0},i));return s&&(s.url=s.src),s},getLargestPrimaryPhotoSize:function(t,n){return e.PhotoModelHelper.getLargestSize(t,n)},attributes:{normalizedId:{readOnly:!0,defaultFn:function(e){return e.split("-")[0]}},displayType:{readOnly:!0,defaultFn:function(){return"set"}},title:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},description:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},owner:{isModel:!0},isOwner:e.PhotoModelHelper.attributes.isOwner,photoPageList:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-photosets-getPhotos"]}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:e.ListFetchers["flickr-photosets-getContext"],listItemIdField:"photoId"}},photoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},videoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},publicPhotosCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},totalCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return this.getValue(e,"photoCount")+this.getValue(e,"videoCount")}},viewCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},photoCountDisplay:{readOnly:!0,derivedBy:["totalCount"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),n=this.getValue(e,"videoCount"),r=this.getValue(e,"totalCount"),i="";return t-=n,t===0&&n===0?i=this.intlMessage({intlName:"models.ZERO_PHOTOS"}):t===1&&n===0?i=this.intlMessage({intlName:"models.ONE_PHOTO"}):t>1&&n===0?i=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS",photos:t}):t===0&&n===1?i=this.intlMessage({intlName:"models.ONE_VIDEO"}):t===1&&n===1?i=this.intlMessage({intlName:"models.ONE_PHOTO_AND_ONE_VIDEO"}):t>1&&n===1?i=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_ONE_VIDEO",photos:t}):t===0&&n>1?i=this.intlMessage({intlName:"models.MULTIPLE_VIDEOS",videos:n}):t===1&&n>1?i=this.intlMessage({intlName:"models.ONE_PHOTO_AND_MULTIPLE_VIDEOS",videos:n}):t>1&&n>1&&(i=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS",photos:t,videos:n})),r===0?i=this.intlMessage({intlName:"models.ZERO_ITEMS"}):r===1?i=this.intlMessage({intlName:"models.ONE_ITEM"}):r>1&&(i=this.intlMessage({intlName:"models.MULTIPLE_ITEMS",items:r})),i}},photoAndVideosDisplay:{readOnly:!0,derivedBy:["photoCount","videoCount"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),n=this.getValue(e,"videoCount"),r="";return t===0&&n===0?r=this.intlMessage({intlName:"models.ZERO_PHOTOS"}):t===1&&n===0?r=this.intlMessage({intlName:"models.ONE_PHOTO"}):t>1&&n===0?r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS",photos:t}):t===0&&n===1?r=this.intlMessage({intlName:"models.ONE_VIDEO"}):t===1&&n===1?r=this.intlMessage({intlName:"models.ONE_PHOTO_AND_ONE_VIDEO"}):t>1&&n===1?r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_ONE_VIDEO",photos:t}):t===0&&n>1?r=this.intlMessage({intlName:"models.MULTIPLE_VIDEOS",videos:n}):t===1&&n>1?r=this.intlMessage({intlName:"models.ONE_PHOTO_AND_MULTIPLE_VIDEOS",videos:n}):t>1&&n>1&&(r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS",photos:t,videos:n})),r}},sharedEntityDisplay:{readOnly:!0,derivedBy:["videoCount","photoCount"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),n=this.getValue(e,"videoCount"),r=this.getValue(e,"owner"),i="";return t&&!n?i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_PHOTOS_ONLY",username:r.getValue("displayname"),photoCount:parseInt(t,10)}):!t&&n?i=this.intlMessage({intlName
:"shared-entity.USERNAME_HAS_SHARED_VIDEOS_ONLY",username:r.getValue("displayname"),videoCount:parseInt(n,10)}):t&&n&&(i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_PHOTOS_VIDEOS",username:r.getValue("displayname"),photoCount:parseInt(t,10),videoCount:parseInt(n,10)})),i}},primary:{},primaryPhotoSizes:{},primaryNeedsInterstitial:{},bestIconURL:{readOnly:!0,derivedBy:["primaryPhotoSizes"],defaultFn:function(t){var n=e.PhotoModelHelper.getSizeToFit(t,{height:75,width:75},e.merge({sizes:this.getValue(t,"primaryPhotoSizes"),includeSquare:!0,cropToFit:!0}));return n?n.src:""}},url:{readOnly:!0,derivedBy:["owner","normalizedId"],defaultFn:function(e){var t=this.getValue(e,"owner"),n=this.getValue(e,"isSharedEntity"),r=this.getValue(e,"normalizedId");return t&&n===!0?"/photos/"+t.getValue("pathAlias")+"/shares/"+r:t?"/photos/"+t.getValue("pathAlias")+"/albums/"+r:undefined}},isAutoUploadSet:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isSharedEntity:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},canShare:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},canDownload:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},urlSuffix:{readOnly:!0,defaultFn:function(e){var t=this.getValue(e,"isSharedEntity");return t?"shares-"+e:"album-"+e}},gpCode:{defaultFn:function(e){return null}},gpOwner:{defaultFn:function(e){return null}}}},{buildCompoundId:function(e,t,n){var r=e;return t&&(r+="-"+t),n&&(t||(r+="-dateposted"),r+="-"+n),r},splitCompoundId:function(e){var t=e.split("-");return{nsid:t[0],orderBy:t[1],viewAs:t[2]}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photosets-addPhoto-creator","flickr-photosets-removePhoto-deletor","flickr-photosets-delete-deletor","flickr-photosets-getPhotos-fetcher","flickr-photosets-getContext-fetcher","flickr-photosets-create-creator","flickr-photosets-createHidden-creator","flickr-photosets-editMeta-updater","flickr-photosets-setPrimaryPhoto-updater","photo-model-helper"],langBundles:["models","shared-entity"]});
YUI.add("photo-groups-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getAllContexts"].run(t,this.appContext)}},attributes:{id:{},groups:{isCollection:!0},total:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0}}})},"@VERSION@",{requires:["api-helper","flickr-model-registry","flickr-promise","flickr-photos-getAllContexts-fetcher"]});
YUI.add("flickr-photos-getAllContexts-fetcher",function(e,t){"use strict";function n(t){var n;return n={photo_id:t.id,extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras()+","+e.APIHelper.request.getRebootAlbumsListExtras(),primary_photo_extras:"url_sq, url_t, url_s, url_m, needs_interstitial"},t.scrappy&&(n.get_all_galleries=1,n.no_faves_context=1,n.per_type_limit=6,n.get_totals=1,n.sort="date-desc"),n}function r(t,n){var r=t[0],i=t[1],s=t[2],o={},u=[],a,f=t[8],l=t[9],c=t[10],h=t[11],p;return o.faves=t[3],o.gallery=t[4],o.pool=t[5],o.set=t[6],o.stream=t[7],e.Object.each(o,function(t,n){r[n]&&e.Array.each(r[n],function(n){e.APIHelper.response.addContextToRegistry(n,t,i,h),u.push(t.proxy(n.id))})}),s.exists(n.id)||(a=s.add({id:n.id,totalGroups:r.totals&&r.totals.groups,totalSets:r.totals&&r.totals.sets,totalGalleries:r.totals&&r.totals.galleries}),s.setValue(n.id,"contexts",u)),f.addOrUpdate({id:n.id,total:r.totals&&r.totals.groups,groups:s.getContextsOfType(n.id,"group-pool-models")}),p=s.getContextsOfType(n.id,"set-models"),p.forEach(function(e){e.setValue("totalCount",parseInt(e.getValue("photoCount"),10)+parseInt(e.getValue("videoCount"),10))}),l.addOrUpdate({id:n.id,total:r.totals&&r.totals.sets,sets:p}),c.addOrUpdate({id:n.id,total:r.totals&&r.totals.galleries,galleries:s.getContextsOfType(n.id,"gallery-models")}),a}function i(n,r){var i=this;return r.flipper.isFlipped("enable-scrappy-photo-page")&&(n.scrappy=!0),e.Promise.all([r.callAPI("flickr.photos.getAllContexts",this._processParams(n),!0),r.getModelRegistry("person-models"),r.getModelRegistry("photo-contexts-models"),r.getModelRegistry("favorite-models"),r.getModelRegistry("gallery-models"),r.getModelRegistry("group-pool-models"),r.getModelRegistry("set-models"),r.getModelRegistry("photostream-models"),r.getModelRegistry("photo-groups-models"),r.getModelRegistry("photo-sets-models"),r.getModelRegistry("photo-galleries-models"),r.getModelRegistry("group-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-photos-getAllContexts"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-contexts-models","favorite-models","gallery-models","group-pool-models","photostream-models","set-models","photo-groups-models","photo-sets-models","photo-galleries-models","group-models"]});
YUI.add("photo-contexts-models",function(e){function t(e){t.superclass.constructor.call(this,e),this.getMorePromises={"group-pool-models":{},"set-models":{},"gallery-models":{}},this.continuationKeys={"group-pool-models":{},"set-models":{},"gallery-models":{}}}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return this.appContext.flipper.isFlipped("enable-scrappy-photo-page")?e.ModelFetchers["flickr-photos-getAllContexts"].run(t,this.appContext):e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)}},getMoreContextsOfType:function(t,n,r){var i=this,s,o,u,a,f,l,c,h="-1",p=e.APIHelper.request.getRebootPhotoExtras();switch(n){case"group-pool-models":s="flickr.photos.getGroups",u="groups.group",p+=","+e.APIHelper.request.getRebootGroupExtras();break;case"set-models":s="flickr.photos.getSets",u="sets.set";break;case"gallery-models":s="flickr.photos.getGalleries",u="galleries.gallery"}return s?this.exists(t)?(a=this.continuationKeys[n][t]||"0",a===h?e.Promise.resolve({type:n,newContexts:[],loadedAll:!0}):(o={photo_id:t,extras:p,primary_photo_extras:"url_sq, url_t, url_s, url_m",continuation:a,per_page:r},l=t+"_"+a,c=this.getMorePromises[n][l],c?c:(this.getMorePromises[n][l]=(new e.FlickrPromise({apiResponse:this.appContext.callAPI(s,o,!0),contextRegistry:this.appContext.getModelRegistry(n),personRegistry:this.appContext.getModelRegistry("person-models")})).then(function(r){var s=[],o=r.apiResponse,a=r.contextRegistry,c=r.personRegistry,p,d,v;return d=u.split(".").reduce(function(t,n){return e.Lang.isObject(t)?t[n]:undefined},o),d&&(e.Array.each(d,function(t){e.APIHelper.response.addContextToRegistry(t,a,c),s.push(a.proxy(t.id))}),s.length&&(v=i.getContextsOfType(t,n).map(function(e){return e.getValue("id")}),s=s.filter(function(e){return v.indexOf(e.getValue("id"))===-1}),s.length&&i.getValue(t,"contexts").appendToListMulti(s))),f=o.continuation,typeof f=="undefined"?f=h:e.Lang.isNumber(f)&&(f+=""),p=f===h,i.continuationKeys[n][t]=f,delete i.getMorePromises[n][l],{type:n,newContexts:s,loadedAll:p}}),this.getMorePromises[n][l]))):e.Promise.reject("[photo-contexts-models] getMoreContextsOfType was called for an ID that isn't in the registry: "+t):e.Promise.reject("[photo-contexts-models] getMoreContextsOfType was called without an invalid type: "+n)},getContextsOfType:function(t,n){return n=e.Array(n),this.getValue(t,"contexts").getList().filter(function(e){return n.indexOf(e.registry.name)>-1})},getContextsNotOfType:function(t,n){return n=e.Array(n),this.getValue(t,"contexts").getList().filter(function(e){return n.indexOf(e.registry.name)===-1})},attributes:{contexts:{isCollection:!0},totalGroups:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},totalSets:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},totalGalleries:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0}}})},"@VERSION@",{requires:["api-helper","flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","flickr-photos-getAllContexts-fetcher"]});
YUI.add("vr-overlay-view",function(e,t){var n=require("lib/flog")(t),r;r={css:{destinationContainer:"body",closeX:".close"},options:{}},e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.photoId=e.photoId,this.nsid=e.nsid,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this.immersed=!1,this},subviewConfig:{},loadState:function(){var e=this;return this.appContext.getModel("photo-models",e.photoId).then(function(t){return e.set("photo",t),e.canVr().then(function(t){e.set("canVr",t)})})},buildContainer:function(){var e=this.get("canVr");return this.set("isActiveViewAgnostic",!0),e?(this.setContainerWithTemplate("vr-overlay"),this):this},buildErrorContainer:function(){this.setContainerHTML("")},activate:function(){var t=this;if(!this.get("canVr"))return;return this.loadFlickvr().then(function(){var n=t.get("container");n.addClass("active"),n.one(r.css.closeX)&&t.registerEventHandler(n.one(r.css.closeX).on("click",e.bind(t.closeVr,t))),t.registerEventHandler(t.get("container").on("click",t.openVr,t)),t.isMobile||t.openVr()}).then(null,function(e){n.error("Failed to load flickvr from CDN",{err:e})}),this},loadFlickvr:function(){return new e.Promise(function(t,r){if(window.Flickvr)return t();e.Get.js("https://s.yimg.com/uy/flickvr/version.js",function(i){if(i)return r();if(!window.FlickvrVersion)return r();e.Get.js("https://s.yimg.com/uy/flickvr/"+window.FlickvrVersion+".js",function(e){return e?r():(n.log("flickvr loaded successfully from CDN"),t())})})})},hasEquirectangularTag:function(){return this.appContext.getModel("photo-tags-models",this.photoId).then(function(e){var t=!1,n=e.toJSON();return n.tags.forEach(function(e){var n=e.tagRaw.toLowerCase();n==="equirectangular"&&(t=!0)}),t})},inEquirectangularGroup:function(){return this.appContext.getModel("photo-groups-models",this.photoId).then(function(e){var t=!1,n=e.toJSON();return n.groups.forEach(function(e){e.id==="44671723@N00"&&(t=!0)}),t})},canVr:function(){var t=this,n,r,i=!1;return t.appContext.flipper.isFlipped("enable-vr")?(n=t.get("photo"),n&&(r=n.getValue("aspectRatio"),r&&r>=1.99&&r<=2.01&&(i=!0)),i?e.Promise.all([t.appContext.callAPI("flickr.vr.isEquirectangular",{photo_id:n.id})]).then(function(t){return e.Promise.resolve(!!t[0].is_equirectangular)}):e.Promise.resolve(!1)):e.Promise.resolve(!1)},onParentViewEvent:function(e,t){var n;if(t&&t[0]){n=t[0];switch(n){case"vrIconClicked":this.openVr();break;case"vKeyPressed":this.toggleVr()}}},toggleVr:function(){this.immersed?this.closeVr():this.openVr()},openVr:function(t){if(this.immersed||t&&t.target.hasClass("close")){this.vr.controls&&this.vr.controls.autoRotate&&(this.vr.controls.autoRotate=!1);return}var n=this,r=this.get("photo"),i=r.getLargestSize(),s=this.templates("flickr-balls")({}),o=new Image,u,a;t&&t.halt(),a=e.Node.create("<div></div>"),a.addClass("vr-loading-layer"),a.addClass("fluid"),a.append(s),n.get("container").append(a),u=i.displayUrl.replace("staticflickr","static.flickr"),o.crossOrigin="anonymous",o.onload=function(){n.immersed=!0,n.vr=new window.Flickvr,n.vr.initialize(u,{container:n.get("container").getDOMNode(),useContainerDimensions:!n.isMobile,enableVrHeadset:n.appContext.flipper.isFlipped("enable-vr-headset"),autoRotate:!n.isMobile}).then(function(t){e.fire("photo:entering-vr"),t.style.position="absolute",n.vr.enterVR(),n.get("container").one(".vr-loading-layer").remove(),n.get("container").addClass("immersed"),n.escHandle=n.attachKeyEvent("down:27",e.betterThrottle(n.closeVr.bind(n),100))})},o.src=u},closeVr:function(e){var t=this.get("container");e&&e.preventDefault(),this.vr&&this.vr.destroy(),this.escHandle&&(this.detachRegisteredEvent(this.escHandle),delete this.escHandle),this.immersed=!1,t.removeClass("immersed")},beforeDestroy:function(){this.set("lastContainer",this.get("container")),this.immersed&&this.closeVr()},destructor:function(){var e=this.get("lastContainer");e&&(e.remove(!0),this.set("lastContainer",null))}})},"@VERSION@",{requires:["flickr-view","better-throttle","get","hermes-template-vr-overlay","hermes-template-flickr-balls"],optional:["photo-models","photo-tags-models","photo-groups-models"],langBundles:["common","photo-page-scrappy"]});
YUI.add("hermes-lang-photo-page-scrappy_pt-br",function(e,t){e.Intl.add("hermes/photo-page-scrappy","pt-BR",{PAGE_TITLE:["${title}"," | Flickr"],BACK_TO:["Voltar para ","${entryType}"],COULDNT_UPDATE_SETTINGS:["N\u00e3o podemos atualizar suas configura\u00e7\u00f5es"],ADULT_CONTENT:["Conte\u00fado adulto"],MATURE_AUDIENCES:["Este conte\u00fado \u00e9 para p\u00fablico adulto somente."],USER_DISCRETION:["\u00c9 aconselhado crit\u00e9rio ao usu\u00e1rio."],SHOW_ME_THIS_CONTENT_TYPE:["Mostre-me este tipo de conte\u00fado a partir de agora"],CHANGE_SAFE_SEARCH_IN_SETTINGS:['Voc\u00ea sempre pode alterar as <a href="/account/prefs/safesearch/?from=privacy"  data-track="photoWellSafeSearchClick">Configura\u00e7\u00f5es do SafeSearch</a> em prefer\u00eancias de conta.'],SIGNED_IN_FOR_CONTENT:["Voc\u00ea deve entrar para ver este conte\u00fado."],VIDEO_COMING_SOON:["Suporte para v\u00eddeo em breve"],FIND_OUT_MORE_AD:["Saiba mais em ","${brand}"],SHARE_THIS_PHOTO:["Compartilhar esta foto"],DOWNLOAD_THIS_VIDEO:["Baixar este v\u00eddeo"],DOWNLOAD_THIS_PHOTO:["Baixar esta foto"],VIEW_ALL_SIZES:["Exibir todos os tamanhos"],DOWNLOAD_PHOTO:["Baixar a foto"],SOME_RIGHTS_RESERVED:["Alguns direitos reservados"],DOWNLOAD:["Baixar"],ERROR_LOADING_CONTEXT:["Erro ao carregar contexto"],ADD_TITLE:["Adicionar t\u00edtulo"],ADD_DESCRIPTION:["Adicionar descri\u00e7\u00e3o"],TITLE_DESCRIPTION_FAILURE:["N\u00e3o podemos alterar o T\u00edtulo e a Descri\u00e7\u00e3o neste momento."],VIEW_PREVIOUS_COMMENT:["Exibir coment\u00e1rio anterior"],VIEW_MORE_PREVIOUS_COMMENTS:["Exibir ","${count}"," coment\u00e1rios anteriores"],EMPTY_COMMENT_ERROR:["Uma caixa de coment\u00e1rio vazia? Isso n\u00e3o vai funcionar!"],COMMENT_RATE_LIMIT_ERROR:["Devagar, parceiro! Para proteger a comunidade Flickr contra spam e comportamento de spam, colocamos algumas restri\u00e7\u00f5es ao comentar."],COMMENT_POST_ERROR:["N\u00e3o podemos publicar o seu coment\u00e1rio."],MORE_COMMENTS_ERROR:["N\u00e3o podemos obter mais coment\u00e1rios."],COMMENT_PERMALINK_ERROR:["N\u00e3o conseguimos encontrar o coment\u00e1rio especificado na foto."],DELETE_COMMENT:["Excluir coment\u00e1rio"],COMMENT_DELETE_CONFIRMATION:["Tem certeza que deseja excluir este coment\u00e1rio?"],COMMENT_DELETE_ERROR:["N\u00e3o podemos apagar seu coment\u00e1rio."],COMMENT_LOADING_ERROR:["Erro ao carregar os coment\u00e1rios"],COMMENT:["Coment\u00e1rio"],SHOW_MORE_COMMENTS:["${count}"," mais"],REPLY:["Responder"],PERMALINK:["Permalink"],SINGLE_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAlias}",'/">',"${displayName}","</a> favoritaram isto"],DOUBLE_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAliasOne}",'/">',"${displayNameOne}",'</a> e <a class="faved-by-person-link" href="/photos/',"${pathAliasTwo}",'/">',"${displayNameTwo}","</a> favoritaram isto"],TRIPLE_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAliasOne}",'/">, ',"${displayNameOne}",', </a><a class="faved-by-person-link" href="/photos/',"${pathAliasTwo}",'/">',"${displayNameTwo}",'</a> e <a class="faved-by-person-link" href="/photos/',"${pathAliasThree}",'/">',"${displayNameThree}","</a> favoritaram isto"],MULTI_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAliasOne}",'/">',"${displayNameOne}",'</a>, <a class="faved-by-person-link" href="/photos/',"${pathAliasTwo}",'/">',"${displayNameTwo}",'</a> e outras <a class="remaining-faved-by" href="#">',"${count}"," pessoas</a> favoritaram isto"],RELATIONSHIP_FRIEND_ERROR:["Ocorreu um problema ao definir a sua rela\u00e7\u00e3o com um amigo."],RELATIONSHIP_FAMILY_ERROR:["Ocorreu um problema ao definir a sua rela\u00e7\u00e3o com um familiar."],HIDE_EXIF:["Ocultar EXIF"],SHOW_EXIF:["Mostrar EXIF"],EDIT_LOCATION:["Editar localiza\u00e7\u00e3o"],EDIT_LOCATION_ORGANIZR:["Estamos trabalhando duro para reformular a nov\u00edssima experi\u00eancia fotogr\u00e1fica. Por enquanto, voc\u00ea pode editar a localiza\u00e7\u00e3o no Organizr."],SAVE_LOCATION:["Salvar local"],APERTURE:["Abertura"],FOCAL_LENGTH:["Dist\u00e2ncia do foco"],EXPOSURE_TIME:["Tempo de exposi\u00e7\u00e3o"],FLASH_AUTO_FIRED:["Flash (auto, disparado)"],FLASH_AUTO_NO_FIRE:["Flash (auto, n\u00e3o disparado)"],FLASH_ON_FIRED:["Flash (ligado, disparado)"],FLASH_ON_NO_FIRE:["Flash (ligado, n\u00e3o disparado)"],FLASH_OFF:["Flash (desligado, n\u00e3o disparado)"],FLASH_SIMPLE_ON:["Ativado"],FLASH_SIMPLE_OFF:["Desativado"],POWERED_BY:["DESENVOLVIDO POR"],FOURSQUARE:["FOURSQUARE"],ADD_PHOTO_TO_MAP:["Adicionar esta foto ao seu mapa"],SINGULAR_FAVE:["favorito"],PLURAL_FAVE:["favoritos"],SINGULAR_VIEW:["visualiza\u00e7\u00e3o"],PLURAL_VIEW:["visualiza\u00e7\u00f5es"],SINGULAR_COMMENT:["coment\u00e1rio"],PLURAL_COMMENT:["coment\u00e1rios"],LICENSE_ERROR:["Ocorreu um problema ao alterar a licen\u00e7a de sua foto"],ALL_RIGHTS_RESERVED:["Todos os direitos reservados"],NO_RESTRICTIONS:["Sem restri\u00e7\u00f5es de direitos autorais conhecidas"],PUBLIC_DOMAIN:["Dom\u00ednio p\u00fablico"],USA_GOV_WORK:["Trabalho do governo dos Estados Unidos"],SAFETY_CHANGE_ERROR:["Ocorreu um erro ao alterar o n\u00edvel de seguran\u00e7a de sua foto"],PRIVACY_CHANGE_ERROR:["Ocorreu um problema ao alterar a privacidade de sua foto"],COMMENT_PERM_CHANGE_ERROR:["Ocorreu um erro ao alterar a permiss\u00e3o para comentar em sua foto"],FLAG_PHOTO:["Sinalizar foto"],MARK_FOR_REVIEW:["Marcar para an\u00e1lise"],ADDITIONAL_INFO:["Informa\u00e7\u00f5es adicionais"],VIEWING_THIS_PHOTO:["Exibi\u00e7\u00e3o desta foto"],PRIVACY_UPDATE_ERROR:["Ocorreu um erro ao atualizar a privacidade. Tente de novo."],META_PERMS_UPDATE_ERROR:["Ocorreu um erro ao atualizar a permiss\u00e3o para acr\u00e9scimo meta. Tente de novo."],ADD_META_TO_THIS_PHOTO:["Acrescentar tags e pessoas a esta foto"],COMMENT_PERMS_UPDATE_ERROR:["Ocorreu um erro ao atualizar a permiss\u00e3o para comentar. Tente de novo."],COMMENTING_ON_THIS_PHOTO:["Comentando nesta foto"],SAFETY_UPDATE_ERROR:["Ocorreu um erro ao atualizar o n\u00edvel de seguran\u00e7a. Tente de novo."
],SAFETY_LEVEL_OF_PHOTO:["N\u00edvel de seguran\u00e7a desta foto"],FLAG_ERROR:["Ocorreu um erro ao tentar sinalizar esta foto. Tente de novo."],PROVIDE_FEEDBACK:["D\u00ea um feedback sobre a nova p\u00e1gina de fotos"],ERROR_DELETING_AUTOTAG:["Erro ao excluir autotag"],AUTOTAGS:["Autotags"],CONTACT_LIST_ERROR:["Houve um erro ao tentar obter sua lista de contatos. Tente de novo."],FAILED_TO_REMOVE_PERSON:["Falha ao remover esta pessoa da foto neste momento."],PERSON_CANNOT_BE_TAGGED:["Esta pessoa n\u00e3o pode ser marcada."],PEOPLE_IN_PHOTO:["Pessoas na foto"],ADD_PEOPLE:["Adicionar pessoas"],ADD_PERSON:["Adicionar uma pessoa"],ERROR_REMOVING_FROM_GROUP:["Houve um problema ao remover esta foto do grupo"],ERROR_ACCEPTING_INVITATION:["Houve um problema ao aceitar o convite do grupo"],SEARCH_GROUPS:["Buscar grupos"],PHOTO_NOT_IN_GROUPS:["Esta foto atualmente n\u00e3o est\u00e1 em nenhum grupo"],ADD_TO_GROUP:["Adicionar ao grupo"],INVITE_TO_GROUP:["Convidar para o grupo"],ONE_GROUP_INVITATION:["Voc\u00ea tem 1 convite para o grupo"],N_GROUP_INVITATIONS:["Voc\u00ea tem ","${count}"," convites para o grupo"],VIEW_MORE_GROUPS:["Exibir mais grupos"],ERROR_REMOVING_FROM_ALBUM:["Houve um problema ao remover esta foto do \u00e1lbum"],WARNING_REMOVE_LAST_PHOTO_FROM_ALBUM:["Voc\u00ea est\u00e1 prestes a remover a \u00faltima foto do \u00e1lbum, o que tamb\u00e9m apagar\u00e1 o \u00e1lbum."],REMOVE_PHOTO_AND_ALBUM:["Remover foto e apagar \u00e1lbum"],ADD_PHOTO_TO_ALBUM:["Adicionar esta foto a um \u00e1lbum"],SEARCH_ALBUMS:["Buscar \u00e1lbuns"],ADD_TO_ALBUM:["Adicionar ao \u00e1lbum"],PHOTO_NOT_IN_ALBUMS:["Esta foto atualmente n\u00e3o est\u00e1 em nenhum \u00e1lbum"],VIEW_MORE_ALBUMS:["Exibir mais \u00e1lbuns"],PHOTO_IN_ONE_ALBUM:["Esta foto est\u00e1 em 1 \u00e1lbum"],PHOTO_IN_N_ALBUMS:["Esta foto est\u00e1 em ","${count}"," \u00e1lbuns"],INVITE_PENDING:["Convite pendente"],CANCEL_INVITE:["Cancelar convite"],ACCEPT_INVITE:["Aceitar convite"],ONE_ITEM:["1 item"],N_ITEMS:["${count}"," itens"],ERROR_REMOVING_FROM_GALLERY:["Houve um problema ao remover esta foto da exp\u00f4"],SEARCH_GALLERIES:["Buscar exp\u00f4"],ADD_TO_GALLERY:["Adicionar \u00e0 exp\u00f4"],PHOTO_NOT_IN_GALLERIES:["Esta foto atualmente n\u00e3o est\u00e1 em nenhuma exp\u00f4"],VIEW_MORE_GALLERIES:["Exibir mais exposi\u00e7\u00f5es"],PHOTO_IN_ONE_GALLERY:["Esta foto est\u00e1 em 1 exp\u00f4"],PHOTO_IN_N_GALLERIES:["Esta foto est\u00e1 em ","${count}"," exposi\u00e7\u00f5es"],DELETE_PHOTO:["Excluir foto"],PERMANTENTLY_DELETE:["Deseja excluir permanentemente esta foto?"],EDIT_PHOTO:["Editar foto"],NO_VIDEO_ROTATION:["V\u00eddeos n\u00e3o podem ser girados"],ROTATE:["Girar"],NO_VIDEO_REPLACE:["V\u00eddeos n\u00e3o podem ser substitu\u00eddos"],REPLACE:["Substituir"],PHOTO_NAVIGATION:["Navega\u00e7\u00e3o por fotos"],THUMBNAIL_NAVIGATION:["Navega\u00e7\u00e3o por miniaturas"],ZOOM:["Zoom"],VIEW_IN_LIGHTBOX:["Exibir em caixa ilumina\u00e7\u00e3o"],BACK_TO_CONTEXT:["Voltar para o contexto"],ADD_TAG:["Adicionar tag"],GO_TO_ORGANIZER:["V\u00e1 ao Organizr"],ALBUM:["\u00e1lbum"],ALBUMS:["\u00e1lbuns"],ERROR_LOADING_ALBUMS:["Houve um problema ao carregar seus \u00e1lbuns"],ERROR_ADDING_PHOTO_TO_ALBUM:["Houve um problema ao adicionar esta foto ao \u00e1lbum"],ERROR_REMOVING_PHOTO_FROM_ALBUM:["Houve um problema ao remover esta foto do \u00e1lbum"],ERROR_LOADING_GROUPS:["Houve um problema ao carregar os grupos aos quais voc\u00ea pode adicionar fotos"],ERROR_ADDING_TO_GROUP:["Houve um problema ao adicionar esta foto ao grupo"],ERROR_ADDING_TO_GROUP_NOT_OWNER:["Lamentamos, n\u00e3o foi poss\u00edvel adicionar a foto ao grupo porque voc\u00ea n\u00e3o \u00e9 propriet\u00e1rio da foto."],ERROR_ADDING_TO_GROUP_NOT_MEMBER:["Lamentamos, n\u00e3o foi poss\u00edvel adicionar a foto ao grupo. Voc\u00ea n\u00e3o \u00e9 um membro do grupo."],ERROR_ADDING_TO_GROUP_ALREADY_IN_POOL:["A foto j\u00e1 est\u00e1 no acervo do grupo."],ERROR_ADDING_TO_GROUP_MAX_POOLS:["Lamentamos, n\u00e3o foi poss\u00edvel adicionar a foto ao grupo porque j\u00e1 foi atingido o n\u00famero m\u00e1ximo de itens no acervo do grupo."],ERROR_ADDING_TO_GROUP_MAX_PHOTOS_FROM_USER:["Lamentamos, n\u00e3o foi poss\u00edvel adicionar a foto ao grupo. Voc\u00ea j\u00e1 adicionou o n\u00famero m\u00e1ximo de fotos \u00e0 galeria."],ERROR_ADDING_TO_GROUP_ADDED_TO_QUEUE:["Sua foto foi adicionada \u00e0 fila pendente do grupo."],ERROR_ADDING_TO_GROUP_ALREADY_IN_QUEUE:["Sua foto j\u00e1 est\u00e1 na fila pendente do grupo."],ERROR_ADDING_TO_GROUP_INVALID_CONTENT:["Lamentamos, n\u00e3o foi poss\u00edvel adicionar a foto ao grupo. Para obter mais informa\u00e7\u00f5es, verifique os requisitos do grupo para tipo de m\u00eddias, tipo de conte\u00fado, n\u00edvel de seguran\u00e7a e localiza\u00e7\u00e3o geogr\u00e1fica."],ERROR_ADDING_TO_GROUP_MAX_IN_POOL:["Lamentamos, n\u00e3o foi poss\u00edvel adicionar a foto ao grupo. O grupo tem o n\u00famero m\u00e1ximo de fotos permitidas no acervo."],ERROR_INVITING_TO_GROUP:["Houve um problema ao convidar esta foto ao grupo"],ERROR_CANCELING_GROUP_INVITIATON:["Houve um problema ao cancelar o convite desta foto para o grupo"],NO_MATCHES:["Sem correspond\u00eancia"],CREATE_NEW:["Criar novo"],ERROR_LOADING_GROUP_INVITATIONS:["Houve um problema ao carregar os convites de grupo desta foto"],NO_GROUP_INVITATIONS:["Sem convites de grupo pendentes"],PENDING_INVITATIONS_FOR_PHOTO:["Convites pendentes para esta foto"],LOADING_INVITATIONS:["Carregando convites"],ERROR_LOADING_GALLERIES:["Houve um problema ao carregar suas exposi\u00e7\u00f5es"],ERROR_ADDING_TO_GALLERY:["Houve um problema ao adicionar esta foto \u00e0 exp\u00f4"],ERROR_PHOTO_NOT_ALLOWED_IN_GALLERY:["O propriet\u00e1rio desta foto n\u00e3o permitiu que a foto fosse adicionada a sua exp\u00f4"],ERROR_CREATING_GALLERY:["Houve um problema ao criar sua nova exp\u00f4"],DATE_TAKEN_FORMAT:["A data da foto deve ser no formato MM/DD/AAAA hh:mm:ss."],DATE_POSTED_FUTURE:["A data de publica\u00e7\u00e3o n\u00e3o pode ser futura."
],DATE_UPLOADED_FUTURE:["A data de upload n\u00e3o pode ser futura."],DATE_POSTED_FLICKR_JOIN:["A data de publica\u00e7\u00e3o deve ser depois que voc\u00ea entrou no Flickr."],DATE_UPLOADED_FLICKR_JOIN:["A data de upload deve ser depois que voc\u00ea virou membro do Flickr."],ERROR_SAVING_DATE:["Erro ao salvar datas"],DATE_INVALID:["Uma ou mais datas s\u00e3o inv\u00e1lidas"],EDIT_DATES:["Editar datas"],DATE_TAKEN_ON:["Data em que foi tirada"],DATE_POSTED_ON:["Data de publica\u00e7\u00e3o"],DATE_UPLOADED_ON:["Data de upload em"],TAKEN_CIRCA:["Tirada circa ","${intlDate}"],TAKEN_SOMETIME_IN:["Tirada em torno de ","${intlDate}"],TAKEN_IN:["Tirada em ","${intlDate}"],TAKEN_ON:["Tirada em ",{type:"date",valueName:"intlDate",format:"long"}],UPLOADED_ON:["Carregado em ","${intlDate}"],SOMETHING_WENT_WRONG:["Algo deu errado."],REFRESH_BROWSER:["Atualize seu navegador e tente novamente."],TWITTER_NOT_FOUND:["Conta do Twitter n\u00e3o encontrada na postagem"],TUMBLR_NOT_FOUND:["Conta do Tumblr n\u00e3o encontrada na postagem"],LINK:["Link"],LINK_TO_VIDEO:["Link para este v\u00eddeo:"],LINK_TO_PHOTO:["Link para esta foto:"],NO_LINKS_FOR_RESTRICTED_VIDEO:["Links n\u00e3o dispon\u00edveis para v\u00eddeos restritos"],PRIVATE_VIDEO_SHARE:["Este v\u00eddeo \u00e9 privado, ainda quer compartilh\u00e1-lo?"],NO_LINKS_FOR_RESTRICTED_PHOTO:["Links n\u00e3o dispon\u00edveis para fotos restritas"],PRIVATE_PHOTO_SHARE:["Esta foto \u00e9 privada, ainda quer compartilh\u00e1-la?"],SHARING_RESTRICTED_VIDEO:["Compartilhamento restrito para este v\u00eddeo"],SHARING_RESTRICTED_PHOTO:["Compartilhamento restrito para esta foto"],EMBED:["Inserir"],PUBLIC_TO_SHARE:["Compartilhe esta foto de forma p\u00fablica para exibir o c\u00f3digo incorporado"],SIZE:["Tamanho:"],TITLE_AND_OWNER_AT_START:["Mostrar t\u00edtulo e propriet\u00e1rio no in\u00edcio"],SHARE_NOW:["Compartilhar agora!"],SHARE_PHOTO:["Compartilhar foto"],SHARE_ON_TWITTER:["Compartilhar no Twitter"],AUTHORIZE_FOR_TWITTER:["autorize o Flickr a publicar no Twitter"],SHARE_ON_TUMBLR:["Compartilhar no Tumblr"],PUBLISH_NOW:["Publicar agora"],ADD_TO_QUEUE:["Adicionar \u00e0 fila"],SAVE_AS_DRAFT:["Salvar como rascunho"],AUTHORIZE_FOR_TUMBLR:["autorize o Flickr a publicar no Tumblr"],SHARE_VIA_MAIL:["Compartilhar por email"],SCREEN_NAME_OR_EMAIL:["Nome para exibi\u00e7\u00e3o ou email"],SQUARE:["Quadrado"],SMALL:["Pequena"],MEDIUM:["M\u00e9dia"],LARGE:["Grande"],ORIGINAL:["Original"],DUPLICATE_TAG:["Duplicar tag"],INVALID_TAG:["Tag inv\u00e1lida"],MAXIMUM_TAG_LIMIT:["Limite m\u00e1ximo de tags (76) atingido"],MAX_TAG_LIMIT:["Limite m\u00e1ximo de tags (75) atingido"],ERROR_ADDING_TAG:["Erro ao adicionar tag"],ERROR_DELETING_TAG:["Erro ao apagar tag"],TAGS:["Tags"],ADD_TAGS:["Adicionar tags"],ADD_A_TAG:["Adicionar uma tag"],PHOTO_IN_ONE_GROUP:["Esta foto est\u00e1 em 1 grupo"],PHOTO_IN_MANY_GROUPS:["Esta foto est\u00e1 em ",{type:"number",valueName:"count"}," grupos"],PHOTO_IN_NO_GROUPS:["Esta foto n\u00e3o est\u00e1 em nenhum grupo"],ADD_A_COMMENT:["Adicionar um coment\u00e1rio"],COMMENT_TUTORIAL:["pressione Enter para publicar e Shift+Enter para nova linha"],SIGNED_IN_TO_POST_A_COMMENT:["Voc\u00ea deve estar conectado para publicar um coment\u00e1rio"],SHARE:["Compartilhar"],CODE:["C\u00f3digo"],INCLUDE_A_MESSAGE:["Inclua uma mensagem"],FOR_MORE_INFORMATION_SAFESEARCH:['Para mais informa\u00e7\u00f5es, leia\u00a0<a href="//www.flickr.com/help/photos/?search=flag#145">estas Perguntas frequentes</a>.'],FLAG_CONFIRMATION_SAFE_WITHIN:['Esta foto foi marcada como <a href="//www.flickr.com/help/filters/#258">segura</a> e est\u00e1 de acordo com suas <a href="//www.flickr.com/account/prefs/safesearch/">configura\u00e7\u00f5es do SafeSearch</a>.'],FLAG_CONFIRMATION_SAFE_OUTSIDE:['Esta foto foi marcada como <a href="//www.flickr.com/help/filters/#258">segura</a> e n\u00e3o est\u00e1 de acordo com suas <a href="//www.flickr.com/account/prefs/safesearch/">configura\u00e7\u00f5es do SafeSearch</a>.'],FLAG_CONFIRMATION_MODERATE_WITHIN:['Esta foto foi marcada como <a href="//www.flickr.com/help/filters/#258">moderada</a> e est\u00e1 de acordo com suas <a href="//www.flickr.com/account/prefs/safesearch/">configura\u00e7\u00f5es do SafeSearch</a>.'],FLAG_CONFIRMATION_MODERATE_OUTSIDE:['Esta foto foi marcada como <a href="//www.flickr.com/help/filters/#258">moderada</a> e n\u00e3o est\u00e1 de acordo com suas <a href="//www.flickr.com/account/prefs/safesearch/">configura\u00e7\u00f5es do SafeSearch</a>.'],FLAG_CONFIRMATION_RESTRICTED_WITHIN:['Esta foto foi marcada como <a href="//www.flickr.com/help/filters/#258">restrita</a> e est\u00e1 de acordo com suas <a href="//www.flickr.com/account/prefs/safesearch/">configura\u00e7\u00f5es do SafeSearch</a>.'],FLAG_CONFIRMATION_RESTRICTED_OUTSIDE:['Esta foto foi marcada como <a href="//www.flickr.com/help/filters/#258">restrita</a> e n\u00e3o est\u00e1 de acordo com suas <a href="//www.flickr.com/account/prefs/safesearch/">configura\u00e7\u00f5es do SafeSearch</a>.'],PRIVATE_PHOTO:["Foto privada"],PHOTO_UNFIT_FOR_YOUR_EYES:["Foto inadequada para voc\u00ea. Olhe, um gatinho: (^._.^)\uff89"],NO_PHOTO_WITH_THAT_ID:["Nenhuma foto encontrada com a id ","${photoId}"],NO_MEMBERS_FOUND:["Nenhum membro encontrado"],TAKEN_ON_INTL:["Tirada em ",{type:"date",valueName:"intlDate",format:"long"}],UPLOADED_ON_INTL:["Carregado em ",{type:"date",valueName:"intlDate",format:"long"}],TAKEN_IN_MONTH:["Tirada em ",{type:"date",valueName:"intlDate",format:"monthYear"}],VIEW_IN_LIGHTBOX_SHORTCUT:["Exibir em caixa de ilumina\u00e7\u00e3o"],ZOOM_MAX_MESSAGE:["Calma a\u00ed, amigo! Esta foto j\u00e1 est\u00e1 no tamanho m\u00e1ximo."],CLICK_TO_FAVE_PHOTO:["Clique aqui para favoritar esta foto"],CLICK_TO_FAVE_VIDEO:["Clique aqui para favoritar este v\u00eddeo"],BACK_TO_ACTIVITY_FEED:["Voltar ao feed de atividades"],BACK_TO_PHOTOSTREAM:["Voltar ao fluxo de fotos"],BACK_TO_SHARED_PHOTOS:["Voltar para fotos compartilhadas"],BACK_TO_ALBUM:["Voltar ao \u00e1lbum"],BACK_TO_CONTACTS_LIST
:["Voltar \u00e0 lista de contatos"],BACK_TO_FAVORITES:["Voltar aos favoritos"],BACK_TO_GALLERY:["Voltar \u00e0 galeria"],BACK_TO_PROFILE:["Voltar ao perfil"],BACK_TO_EXPLORE:["Voltar a explorar"],BACK_TO_COMMONS:["Voltar aos comuns"],BACK_TO_GROUP:["Voltar ao grupo"],BACK_TO_GROUPS:["Voltar para grupos"],BACK_TO_MAP:["Voltar ao mapa"],BACK_TO_SEARCH:["Voltar para a busca"],BACK_TO_TAG:["Voltar \u00e0 tag"],ERROR_ADDING_PHOTOS_TO_ALBUM:["Houve um problema ao adicionar estas fotos ao \u00e1lbum"],ERROR_REMOVING_PHOTOS_FROM_ALBUM:["Houve um problema ao remover estas fotos do \u00e1lbum"],ERROR_CREATING_ALBUM:["Houve um problema ao criar seu novo \u00e1lbum"],STRICTER_PRIVACY_CHANGE_DIALOG_TITLE:["Mudan\u00e7a para um n\u00edvel mais restrito de privacidade"],STRICTER_PRIVACY_CHANGE_DIALOG_MESSAGE:["Ao mudar uma foto para um n\u00edvel mais restrito de privacidade, os favoritos acumulados at\u00e9 o momento ser\u00e3o apagados e a URL da foto ser\u00e1 alterada."],TAGS_HELPER_TEXT:["Tags s\u00e3o palavras-chave que facilitam a localiza\u00e7\u00e3o de fotos. Acrescente quantas quiser e os rob\u00f4s do Flickr tentar\u00e3o ajudar adicionando algumas delas para voc\u00ea."],TAGS_HELP_TEXT:["Tags s\u00e3o palavras-chave que facilitam a localiza\u00e7\u00e3o de fotos na busca do Flickr. As tags que voc\u00ea adicionar ser\u00e3o exibidas em cinza-escuro. Os rob\u00f4s do Flickr tentar\u00e3o ajudar acrescentando algumas tags para voc\u00ea; estas aparecer\u00e3o com apenas um contorno cinza."],PRIVATE_TAGS_OWNER_HELPER_TEXT:["Esta tag privada est\u00e1 vis\u00edvel somente para voc\u00ea, bem como para seus amigos e familiares que t\u00eam permiss\u00e3o para ver esta foto."],PRIVATE_TAGS_FRIENDS_FAMILY_HELPER_TEXT:["Esta tag privada est\u00e1 vis\u00edvel somente para voc\u00ea, pois voc\u00ea \u00e9 amigo ou familiar do dono da foto."],CREATE_WALLART_WITH_PHOTO:["Criar um quadro com esta foto"],ERROR_ROTATING_PHOTO:["Houve um problema ao girar esta foto, feche e tente novamente."],ROTATE_PHOTO:["Girar foto"],ERROR_REPLACING_PHOTO:["Houve um problema ao substituir esta foto, feche e tente novamente."],REPLACE_PHOTO:["Substituir foto"],PERMANENTLY_REPLACE:['Substituir permanentemente a foto ("',"${photoTitle}",'" de ',"${username}",") por <em>","${fileName}","</em>?"],REPLACE_WARNING:["N\u00e3o \u00e9 poss\u00edvel desfazer a substitui\u00e7\u00e3o de uma foto. Selecione um arquivo para substituir esta foto."],REPLACE_UPLOADING:["Fazendo upload de <em>","${fileName}","</em>..."],ERROR_DELETING_PHOTO:["Houve um problema ao apagar esta foto, feche e tente novamente."],SHOW_MORE_STATS:["Mostrar mais estat\u00edsticas"],SIGNUP_AND_DOWNLOAD_TITLE:["Voc\u00ea encontrou uma foto para baixar!"],SIGNUP_AND_DOWNLOAD_VIDEO_TITLE:["Voc\u00ea encontrou um v\u00eddeo para baixar!"],SIGNUP_AND_DOWNLOAD_MESSAGE:["Entre no Flickr para acessar bilh\u00f5es de fotos."],SIGNUP_AND_COMMENT_TITLE:["Comente nesta foto!"],SIGNUP_AND_COMMENT_MESSAGE:["Participe do Flickr para deixar um coment\u00e1rio nesta foto."],IMMERSIFY:["Imers\u00e3o"],SIGNUP_FOOTER_MESSAGE:["Participe do Flickr para explorar fotos de alto n\u00edvel"],TIMEOUT_FAILURE:["Devido a problemas, n\u00e3o podemos mostrar esta foto no momento. Tente novamente."],BUY:["Comprar"],ADD_A_NOTE:["Adicionar uma nota"],CONFIRM_NOTE_DELETION:["Tem certeza de que deseja apagar esta nota definitivamente?"],VIEWING_PRIVACY:["Privacidade de visualiza\u00e7\u00e3o"],ALLOW_COMMENTING:["Permitir coment\u00e1rios"],ALLOW_TAGS_NOTES_PEOPLE:["Permitir tags, observa\u00e7\u00f5es e tags de pessoas"],SAFETY_LEVEL:["N\u00edvel de seguran\u00e7a"],SET_SAFETY_LEVEL:["Definir n\u00edvel de seguran\u00e7a"],KEYBOARD_SHORTCUTS:["Atalhos de teclado"],EDITOR_UPGRADE:["Atualiza\u00e7\u00e3o do Editor de fotos"],EDITOR_UPGRADE_MESSAGE:["O recurso de edi\u00e7\u00e3o de fotos na p\u00e1gina de fotos do Flickr est\u00e1 desativado no momento, pendendo uma atualiza\u00e7\u00e3o.<br><br>Muito em breve, voc\u00ea ter\u00e1 acesso a um editor de fotos mais est\u00e1vel e com mais recursos para complementar sua experi\u00eancia com o Flickr!<br><br>Pedimos desculpas por essa atualiza\u00e7\u00e3o inesperada, mas temos certeza de que a espera valer\u00e1 a pena."],ERROR_REPLACING_PHOTO_FILE_TYPE:["Ocorreu um erro ao substituir a foto.  O tipo de arquivo n\u00e3o foi reconhecido. Tente novamente com uma foto diferente."]})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-template-zoom",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return""},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/zoom",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-zoom-modal",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return'<img src="'+e.escapeExpression((s=(s=n.smallSrc||(t!=null?t.smallSrc:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"smallSrc",hash:{},data:i}):s))+'" class="zoom-small">'},3:function(e,t,n,r,i){var s;return'<img src="'+e.escapeExpression((s=(s=n.largeSrc||(t!=null?t.largeSrc:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"largeSrc",hash:{},data:i}):s))+'" class="zoom-large">'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<div class="zoom-modal hidden">\n	<div class="zoom-photo-container">\n		'+((s=n["if"].call(o,t!=null?t.smallSrc:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n		"+((s=n["if"].call(o,t!=null?t.largeSrc:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+'\n		<span class="facade-of-protection-zoom"></span>\n	</div>\n</div>\n'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/zoom-modal",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("animation-manager",function(e){e.AnimationManager=function(){function i(){return n=!1,r=[],!YUI.Env.isServer&&!e.config.win.requestAnimationFrame&&s(),{subscribe:u}}function s(){var t=["webkit","moz"],n,r,i=0;for(r=0;r<t.length&&!e.config.win.requestAnimationFrame;++r)n=t[r],e.config.win.requestAnimationFrame=e.config.win[n+"RequestAnimationFrame"],e.config.win.cancelAnimationFrame=e.config.win[n+"CancelAnimationFrame"]||e.config.win[n+"CancelRequestAnimationFrame"];if(!e.config.win.requestAnimationFrame||!e.config.win.cancelAnimationFrame)e.config.win.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},e.config.win.cancelAnimationFrame=clearTimeout}function o(){if(!n)return;r.forEach(function(e,t){e()}),e.config.win.requestAnimationFrame(o)}function u(t){return r.push(t),n||(n=!0,e.config.win.requestAnimationFrame(o)),{detach:function(){r.splice(r.indexOf(t),1),r.length||(n=!1)}}}var t,n,r;return t||(t=i()),t}()},"@VERSION@",{requires:[]});
YUI.add("zoom-view",function(e){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,forceGpu:null,initializer:function(t){return this.photoId=t.photoId,this.disableIfSmall=!!t.disableIfSmall,YUI.Env.isServer||(e.config.win.location.search.indexOf("gpu=on")>-1?this.forceGpu=!0:e.config.win.location.search.indexOf("gpu=off")>-1&&(this.forceGpu=!1)),this},loadState:function(){var e=this;return this.appContext.getModel("photo-models",e.photoId).then(function(t){e.set("photo",t)})},buildContainer:function(){return this.setContainerWithTemplate("zoom"),this},activate:function(){var t=this,n=t.getZoomKeyScope();return this.get("photo").getValue("needsInterstitial")||(this.parentViewContainer=this.get("container").ancestor(".view"),t.registerEventHandler(t.get("container").on("click",function(n){n.preventDefault(),t.cursorCoords=[n.pageX-e.config.win.pageXOffset,n.pageY-e.config.win.pageYOffset],e.rapidTracker.beacon(t.name,"zoomInClick"),t.zoomIn(t.cursorCoords)})),t.registerEventHandler(e.on("photo:zoom",function(n){n.x&&n.y?(t.cursorCoords=[n.x-e.config.win.pageXOffset,n.y-e.config.win.pageYOffset],t.zoomIn(t.cursorCoords)):t.zoomIn(),e.rapidTracker.beacon(t.name,"zoomInRemoteFire")})),t.attachKeyEvent("down:90",e.betterThrottle(function(n){n.preventDefault(),e.rapidTracker.beacon(t.name,"zoomInKeyPress"),t.zoomIn()},100)),t.attachKeyEvent("down:90,27",e.betterThrottle(function(n){n.preventDefault(),e.rapidTracker.beacon(t.name,"zoomOutKeyPress"),t.zoomOut()},100),n),t.attachKeyEvent("down:37,38,39,40",e.betterThrottle(function(n){var r=[t.currentZoomRegion.left,t.currentZoomRegion.top],i=200;n.preventDefault();switch(n.button){case 37:r[0]+=i;break;case 38:r[1]+=i;break;case 39:r[0]-=i;break;case 40:r[1]-=i}e.rapidTracker.beacon(t.name,"zoomPanKeyPress"),t.panZoomNode(r)},16),n),t.registerEventHandler(t.appContext.flapp.before("activeViewChange",function(n){e.fire("flickr:removeKeyEventScope",t.getZoomKeyScope()),t.detachRegisteredEvents(),t.detachEventHandlers(),t.cleanUp()}))),this},getZoomEdgeMargin:function(){return 100},panZoomNodeToCurrentCoords:function(){if(!this.zoomedIn)return;var e=this.cursorCoords,t=this.getZoomPanCoordsForCursor(e);if(!t)return;this.panZoomNode(t)},panZoomNode:function(e){if(this.currentZoomRegion.left===e[0]&&this.currentZoomRegion.top===e[1])return;e=this.constrainPanCoords(e),this.currentZoomRegion.left=e[0],this.currentZoomRegion.top=e[1],this.pendingCoords=e},constrainPanCoords:function(e){var t,n,r,i,s=this.getZoomEdgeMargin(),o=[this.appContext.viewportData.getWidth(),this.appContext.viewportData.getHeight()],u=[this.zoomImageFullWidth,this.zoomImageFullHeight],a=[u[0]+2*s,u[1]+2*s];return t=0,n=o[0]-u[0]-2*s,r=0,i=o[1]-u[1]-2*s,e[0]>t?e[0]=t:e[0]<n&&(e[0]=n),e[1]>r?e[1]=r:e[1]<i&&(e[1]=i),u[0]<o[0]&&(e[0]=.5*(o[0]-a[0])),u[1]<o[1]&&(e[1]=.5*(o[1]-a[1])),e},getZoomPanCoordsForCursor:function(e){if(!e)return;var t=this.getZoomEdgeMargin(),n=[this.appContext.viewportData.getWidth(),this.appContext.viewportData.getHeight()],r=[this.zoomImageFullWidth,this.zoomImageFullHeight],i=[r[0]+2*t,r[1]+2*t],s=[e[0]/n[0],e[1]/n[1]],o=[s[0]*(n[0]-i[0]),s[1]*(n[1]-i[1])];return o},getZoomSmallRegion:function(){var t=this.get("container");return{left:t.getX()-e.config.win.pageXOffset-this.getZoomEdgeMargin(),top:t.getY()-e.config.win.pageYOffset-this.getZoomEdgeMargin(),width:parseInt(t.getStyle("width"),10),height:parseInt(t.getStyle("height"),10)}},resizeZoomNode:function(t,n){var r=this,i,s,o=e.config.win.performance&&e.config.win.performance.now;return n?new e.Promise(function(n,u){function a(e){var u=o?e-i:Date.now()-i,a=u/r.getZoomTransitionTime(),f;return a>=1?(f=t,r.isAnimatingZoom=!1,setTimeout(function(){n()},r.getZoomTransitionTime())):f={left:s.left+(t.left-s.left)*a,top:s.top+(t.top-s.top)*a,width:s.width+(t.width-s.width)*a,height:s.height+(t.height-s.height)*a},f}function f(n){var i=a(n);if(r.zoomingIn||r.zoomingOut)r.resizeZoomNode(i,!1),i!==t&&e.config.win.requestAnimationFrame(f)}r.isAnimatingZoom=!0,i=o?e.config.win.performance.now():Date.now(),s=r.currentZoomRegion,e.config.win.requestAnimationFrame(f)}):(this.currentZoomRegion=t,this.zoomPhotoContainerNode&&this.zoomPhotoContainerNode.setStyle("transform","translate("+t.left+"px, "+t.top+"px) scale("+t.width/this.zoomImageFullWidth+")"),e.Promise.resolve())},getZoomTransitionTime:function(){return 200},zoomOut:function(){var t=this,n=this.zoomNode;e.fire("flickr:removeKeyEventScope",this.getZoomKeyScope()),this.detachEventHandlers(),this.resizeZoomNode(this.getZoomSmallRegion(),!0),n.addClass("hiding"),this.zoomedIn=!1,this.zoomingIn=!1,this.zoomingOut=!0,setTimeout(function(){t.zoomingOut&&n&&n._node&&(t.parentViewContainer.removeClass("zoomed"),n.removeClass("hiding"),n.addClass("hidden"),setTimeout(function(){t.zoomingOut&&(t.cleanUp(),this.zoomingOut=!1)},200))},this.getZoomTransitionTime()+0),delete this.pendingCoords,delete this.currentCoords},detachEventHandlers:function(){this.zoomNode&&(this.zoomNode.detachAll("mousemove"),this.mouseWheelHandler&&this.mouseWheelHandler.detach(),this.touchHandlers&&(this.touchHandlers.forEach(function(e){e.detach()}),delete this.touchHandlers))},cleanUp:function(){this.zoomNode&&(this.zoomNode.remove(!0),this.zoomedIn=!1,this.zoomingIn=!1,this.zoomingOut=!1,delete this.zoomNode,delete this.zoomPhotoContainerNode,delete this.pendingCoords,delete this.currentCoords,this.zoomAnimationHandle.detach())},isImageReadyToDisplay:function(e){var t;return e?(t=new Image,t.src=e,t.complete||t.naturalWidth):!1},getZoomKeyScope:function(){return this.name+this._yuid},zoomMouseMoveHandler:function(t){this.cursorCoords=[t.pageX-e.config.win.pageXOffset,t.pageY-e.config.win.pageYOffset],this.isAnimatingZoom||this.panZoomNodeToCurrentCoords()},zoomScrollWheelHandler:function(e){e.preventDefault();var t=e.wheelDeltaX,n=e.wheelDeltaY;t===undefined&&(t=-e.deltaX||0),n===undefined&&(n=-e.deltaY||0),this.panZoomNode([this.currentZoomRegion.left+t,this
.currentZoomRegion.top+n])},getSizes:function(){var e=this.parentViewContainer.one(".low-res-photo"),t=this.parentViewContainer.one(".main-photo");return{small:e?e.getAttribute("src"):"",medium:t?t.getAttribute("src"):"",large:this.getLargestSize()}},getLargestSize:function(){var e=this.appContext.flipper.isFlipped("enable-zoom-proxy"),t=this.appContext.flipper.config["zoom-proxy-prefix"],n;return e&&t?(n=this.get("photo").getLargestSize({excludeSizes:[]}),n.key==="o"&&(console.log("proxyPrefix",t,"largestSize.displayUrl",n.displayUrl),n.displayUrl=n.url=t+"http:"+n.displayUrl,console.log("proxying original",n.url))):n=this.get("photo").getLargestSize(),n},zoomIn:function(t){var n=this,r,i,s=this.getSizes(),o=this.isImageReadyToDisplay(s.medium),u=this.isImageReadyToDisplay(s.large.url),a=this.getZoomPixelRatio(),f=this.getZoomSmallRegion(),l,c,h,p=this.maxMsgNode;if(this.disableIfSmall&&f.width>=s.large.width){p||(p=this.maxMsgNode=e.Node.create('<div class="zoom-max-message">'+n.intlMessage({intlName:"photo-page-scrappy.ZOOM_MAX_MESSAGE"})+"</div>")),this.get("container").contains(p)||(p.addClass("hidden"),this.get("container").append(p)),setTimeout(function(){p&&p.inDoc()&&(p.removeClass("hidden"),this.maxMsgNodeHidingTimer&&(clearTimeout(this.maxMsgNodeHidingTimer),delete this.maxMsgNodeHidingTimer),this.maxMsgNodeHidingTimer=setTimeout(function(){p&&p.inDoc()&&p.addClass("hidden")},3e3))},0);return}e.fire("flickr:setKeyEventScope",this.getZoomKeyScope()),this.zoomingIn=!0,this.zoomAnimationHandle=e.AnimationManager.subscribe(function(){var r=n.getDeteriorationRateForEasing(),i,s,o={x:0,y:0},u={x:0,y:0},a={x:0,y:0};if(n.pendingCoords){o.x=parseInt(n.pendingCoords[0],10),o.y=parseInt(n.pendingCoords[1],10),n.currentCoords?(u.x=n.currentCoords[0],u.y=n.currentCoords[1]):(i=n.getZoomPanCoordsForCursor(t),s=n.constrainPanCoords(i),u.x=parseInt(s[0],10),u.y=parseInt(s[1],10)),o.x<u.x?a.x=u.x-Math.abs(o.x-u.x)*r:a.x=u.x+Math.abs(o.x-u.x)*r,o.y<u.y?a.y=u.y-Math.abs(o.y-u.y)*r:a.y=u.y+Math.abs(o.y-u.y)*r,a.x=parseInt(a.x,10),a.y=parseInt(a.y,10),a.x===u.x&&(o.x<u.x?a.x=u.x-1:o.x>u.x&&(a.x=u.x+1)),a.y===u.y&&(o.y<u.y?a.y=u.y-1:o.y>u.y&&(a.y=u.y+1));if(a.x!==o.x||a.y!==o.y)(n.forceGpu===!0||e.config.win.devicePixelRatio>1)&&n.forceGpu!==!1?n.zoomPhotoContainerNode.setStyle("transform","translate3d("+a.x+"px, "+a.y+"px, 0)"):n.zoomPhotoContainerNode.setStyle("transform","translate("+a.x+"px, "+a.y+"px)");n.currentCoords=[a.x,a.y],a.x===o.x&&a.y===o.y&&delete n.pendingCoords}}),this.zoomNode?(this.zoomingOut=!1,r=this.zoomNode,r.removeClass("hiding"),this.detachEventHandlers()):r=this.zoomNode=e.Node.create(this.templates("zoom-modal")({smallSrc:o?s.medium:s.small,largeSrc:u?s.large.url:""})),i=this.zoomPhotoContainerNode=r.one(".zoom-photo-container"),this.zoomImageFullWidth=s.large.width/a,this.zoomImageFullHeight=s.large.height/a,t||(t=[this.appContext.viewportData.viewport.width/2,this.appContext.viewportData.viewport.height/2],n.cursorCoords=t),l=this.getZoomPanCoordsForCursor(t),l=this.constrainPanCoords(l),c={left:l[0],top:l[1],width:this.zoomImageFullWidth,height:this.zoomImageFullHeight},i.setStyle("transition","none"),this.resizeZoomNode(f,!1),r.on("click",function(t){if(n.zoomingIn)return;t.preventDefault(),e.rapidTracker.beacon(n.name,"zoomOutClick"),n.zoomOut()}),e.one("body").append(r),i.setStyle("width",c.width),i.setStyle("height",c.height),e.soon(function(){if(n.zoomingIn){r.removeClass("hidden"),i.setStyle("transition",""),"ontouchstart"in document&&e.use("event-touch",function(){n.touchHandlers=[],n.touchHandlers.push(e.on("touchstart",function(e){e.changedTouches.length&&e.changedTouches.length===1&&(n.touching=[e.changedTouches[0].pageX,e.changedTouches[0].pageY])})),n.touchHandlers.push(e.on("touchmove",function(e){var t=e.pageX,r=e.pageY,i,s;n.touching&&e.changedTouches.length&&e.changedTouches.length===1&&(t=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY,e.preventDefault(),i=t-n.touching[0],s=r-n.touching[1],n.touching=[t,r],n.panZoomNode([n.currentZoomRegion.left+i,n.currentZoomRegion.top+s]))})),n.touchHandlers.push(e.on("touchend",function(e){delete n.touching}))});if(!("ontouchstart"in document)||n.appContext.flipper.isFlipped("enable-always-bind-mouse-events-zoom-view"))r.on("mousemove",n.zoomMouseMoveHandler.bind(n)),n.mouseWheelHandler=function(){var e=n.zoomScrollWheelHandler.bind(n);return h="onwheel"in document.createElement("div")?"wheel":"mousewheel",document.addEventListener(h,e,!1),{detach:function(){document.removeEventListener(h,e,!1)}}}();n.parentViewContainer.addClass("zoomed"),n.resizeZoomNode(c,!0).then(function(){n.zoomingIn&&(n.zoomingIn=!1,n.zoomedIn=!0,n.panZoomNodeToCurrentCoords(),u||i.append('<img src="'+s.large.url+'" class="zoom-large">'))})}})},getDeteriorationRateForEasing:function(){return.2},getZoomPixelRatio:function(){return 1}})},"@VERSION@",{requires:["flickr-view","better-throttle","flickr-promise","hermes-template-zoom","hermes-template-zoom-modal","animation-manager"],optional:["photo-models"],langBundles:["photo-page-scrappy"]});
